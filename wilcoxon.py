'''
 * Data augmentation based on random spatial deformations
 * Authors: F. Allender, R. All√®gre, C. Wemmert, J.-M. Dischler
 *
 * Code author: Florian Allender
 *
 * anonymous
 * anonymous

 * @version 1.0
'''

import numpy as np
from scipy.stats import mannwhitneyu
from scipy.stats import wilcoxon

baseline = [61.1221, 69.446, 60.2271, 59.9142, 60.8498]


gbd335   = [76.8923, 75.3258, 76.9841, 76.2099,	78.9876]
gbd3310  = [81.8753, 79.2827, 80.6964, 83.7666,	83.2478]
gbd3320  = [86.2557, 87.8753, 86.9777, 84.1029,	84.4614]
gbd3350  = [83.5204, 86.4659, 85.4879, 86.2816, 83.7561]
gbd355   = [77.1514, 82.3749, 79.9538, 79.391, 77.6573]
gbd3510  = [86.2831, 84.4938, 87.2794, 83.8855, 78.4286]
gbd3520  = [78.866, 86.538, 79.5826, 79.1694, 81.5264]
gbd3550  = [73.3802, 77.8097, 73.9449, 65.0761, 78.816]
gbd3105  = [80.8753, 80.5216, 82.2541, 76.6975,	85.2905]
gbd31010 = [84.4554, 86.0077, 86.2467, 82.9848,	82.6894]
gbd31020 = [73.9246, 75.8111, 79.3964, 75.8054,	70.3772]
gbd31050 = [71.1374, 71.5147, 71.2392, 66.7548, 69.9095]


gbd235   = [80.873, 77.2006, 76.3468, 81.4578, 78.3403]
gbd2310  = [85.1773, 75.8117, 80.854, 81.9007, 85.0648]
gbd2320  = [84.4442, 86.9248, 85.0317, 82.3553, 82.9494]
gbd2350  = [83.0282, 85.7952, 84.7097, 87.2143, 84.3287]
gbd255   = [80.9498, 78.2479, 79.8089, 80.8426, 80.8616]
gbd2510  = [86.446,	84.3184, 81.052, 80.5358, 83.6642]
gbd2520  = [84.8485, 85.0786, 83.7955, 86.5428,	86.8087]
gbd2550  = [80.1918, 72.8057, 80.9372, 81.3911,	79.0727]
gbd2105  = [81.87, 78.6832, 80.8499, 82.3254, 77.6733]
gbd21010 = [86.1129, 83.4265, 78.7107, 85.8559,	86.0088]
gbd21020 = [80.1892, 73.4948, 76.5384, 79.0984,	73.0642]
gbd21050 = [68.5897, 75.5861, 65.9036, 77.2519, 71.1947]


sim1005  = [76.3278, 73.3401, 80.695, 75.5198, 73.4216]
sim10010 = [72.2923, 74.9936, 74.5617, 63.6329,	77.0243]
sim10020 = [57.6323, 67.9145, 71.3056, 67.9541, 67.8661]
sim2005  = [77.0288, 74.949, 68.6631, 74.4919, 68.6343]
sim20010 = [79.3378, 76.1164, 75.0052, 78.2152, 78.7481]
sim20020 = [75.5192, 79.7517, 75.1156, 70.7454,	67.2135]
sim4005  = [59.712,	54.7905, 50.6733, 49.8384, 52.1013]
sim40010 = [74.9944, 81.8979, 74.7519, 81.5915, 81.3705]
sim40020 = [78.8436, 80.8883, 78.1198, 74.5541, 74.056]
sim8005  = [49.2891, 47.393, 54.9633, 45.628, 43.0898]
sim80010 = [80.1483, 77.7792, 78.8812, 76.9465, 75.6026]
sim80020 = [80.2009, 74.0478, 79.671, 79.8472, 79.1736]
sim240040 = [74.1967, 74.9682, 76.7582, 79.7722, 72.0037]
sim500040 = [65.2502, 68.9617, 70.259, 70.9844, 69.509]


mls5   = [81.4138, 81.3546, 82.5874, 83.966, 81.2794]
mls10  = [85.1216, 85.8236, 85.1733, 85.9901, 82.952]
mls15  = [83.0993, 86.1156, 85.2924, 87.7426, 83.9796]
mls30  = [82.8658, 85.2129, 83.5137, 84.3251, 80.957]
mls100 = [65.7806, 69.025, 72.3846, 72.6864, 72.1964]

best = [baseline, gbd2520, gbd3320, sim20010, mls15]

gbd3 = [gbd335, gbd3310, gbd3320, gbd3350, gbd355, gbd3510, gbd3520, gbd3550, gbd3105, gbd31010, gbd31020, gbd31050]
gbd2 = [gbd235, gbd2310, gbd2320, gbd2350, gbd255, gbd2510, gbd2520, gbd2550, gbd2105, gbd21010, gbd21020, gbd21050]
sim = [sim1005, sim10010, sim10020, sim2005, sim20010, sim20020, sim4005, sim40010, sim40020, sim8005, sim80010, sim80020, sim240040, sim500040]
mls = [mls5, mls10, mls15, mls30, mls100]


baseline = [93.7519, 93.6364, 93.7253, 93.8514,	93.5929]
mrst_660 = [93.7039, 93.6331, 93.5588, 93.5895,	93.5943]
bmrst_660 = [94.3757, 93.9985, 93.9665,	94.0634, 94.0761]
mrst_3300 = [93.9881, 93.7656, 93.9853, 93.8267, 93.7384]
bmrst_3300 = [93.8907, 94.1614, 93.7605, 94.1625, 93.9494]

mrst = [baseline, mrst_660, mrst_3300, bmrst_660, bmrst_3300]

ada_gts = [89.5935, 90.9831, 88.5506, 90.543, 90.0646]
ada_hsv = [82.7533, 79.7046, 82.6025, 78.9069, 80.4118]
remix_gts = [72.9785, 78.453, 83.0964, 79.0363,	84.3499]
remix_hsv = [79.4327, 77.6401, 80.1144,	81.0665, 78.8169]
gatys_gts = [83.9094, 82.4442, 81.0738,	84.7758, 83.7406]
gatys_hsv = [90.9145, 87.9804, 90.7122,	88.508,	90.3438]
ms_gts = [40.3262, 47.2731,	43.4556, 70.6843, 32.2677]
ms_hsv = [83.6764, 84.9212,	85.5769, 85.4953, 84.3131]

spade = [baseline, ada_gts, ada_hsv, remix_gts, remix_hsv, gatys_gts, gatys_hsv, ms_gts, ms_hsv]

ada_gts_b = [94.118, 94.1042, 94.1224, 94.0548,	93.6769]
ada_hsv_b = [94.1143, 93.9189, 93.5816,	93.8742, 94.0031]
remix_gts_b = [94.0007,	93.3504, 93.7278, 93.7363, 93.6089]
remix_hsv_b = [93.7443,	93.9472, 93.752, 93.7751, 93.6519]
gatys_gts_b = [92.9337,	92.7123, 93.6033, 93.1705, 93.5657]
gatys_hsv_b = [93.7141,	93.7383, 93.6037, 93.8698, 94.0066]
ms_gts_b = [93.6158, 93.6448, 93.4774, 93.6112, 93.1782]
ms_hsv_b = [93.2459, 92.9705, 93.3279, 92.6916, 93.0914]

spade_b = [baseline, ada_gts_b, ada_hsv_b, remix_gts_b, remix_hsv_b, gatys_gts_b, gatys_hsv_b, ms_gts_b, ms_hsv_b]

same_gts = [86.9706, 87.0822, 88.4153, 89.0341,	88.0576]
same_hsv = [65.5874, 71.8057, 72.6777, 76.6666,	62.6235]
same_gts_b = [93.9965, 93.7594,	93.9939, 93.5651, 93.7699]
same_hsv_b = [93.9111, 93.2894,	93.5916, 93.6133, 93.3943]
same_mix = [94.1406, 94.039, 94.0602, 94.0226, 93.7805]

same = [baseline, same_gts, same_hsv, same_gts_b, same_gts_b, same_mix]

real     = [94.9488, 95.0122, 95.075, 95.0866, 94.9805]
identite = [95.0167, 94.7575, 94.8367, 94.9861,	94.9754]
mix      = [94.2742, 93.9884, 94.1825, 94.0525,	93.9401]

limit = [real, ada_gts_b, identite, mix]

results = []

L = limit
for i in range(len(L)):
	l = []
	for j in range(len(L)):
		U1, p = mannwhitneyu(L[i], L[j], method='exact')
		l.append(p<0.05)
	results.append(l)
print(results)

"""
for l in results:
	ch = ""
	for i in l:
		ch += "& $"+str(round(i,3))+"$ "
	ch += " \\\ \hline"
	#print(ch)
"""


results = []
L = limit
for i in range(len(L)):
	U1, p = mannwhitneyu(L[3], L[i], method='exact', alternative='less')
	results.append(p<0.05)
#print(results)

results = []
L = limit
for i in range(len(L)):
	U1, p = mannwhitneyu(L[3], L[i], method='exact', alternative='greater')
	results.append(p<0.05)
#print(results)


results = []

L = spade_b
for i in range(len(L)):
	l = []
	for j in range(len(L)):
		U1, p = mannwhitneyu(L[i], L[j], method='exact')
		l.append(p<0.05)
	results.append(l)
#for lign in results:
#	print(lign)